---
title: "baseplot"
author: "Jun Ohashi"
date: "`r Sys.Date()`"
output:
  rmdformats::readthedown:
    code_folding: hide
    self_contained: true
    thumbnails: false
    lightbox: false
    md_extensions: -ascii_identifiers
    css: template.css
---

```{r setup, include=FALSE}
library(tidyverse)
library(ggthemes)
library(RColorBrewer)
library(gridExtra)
library(ggcorrplot)
library(ggExtra)
library(GGally)
library(knitr)
library(rmdformats)

## Global options
options(max.print="75")
opts_chunk$set(echo=TRUE,
                 cache=FALSE,
               prompt=FALSE,
               tidy=TRUE,
               comment=NA,
               message=FALSE,
               warning=FALSE)
```


# theme,palette
x,y軸の線、グリッド線などはすべてthemeで統一させる。  
色は工夫の余地あり。

## theme_tufte
一番シンプルなやつ。線なし。  
必要であればgeom_rangeframeでx,yの線を追加する。
```{r}
df <- diamonds %>% 
  top_n(100,price)

ggplot(df,aes(x=depth,y=price))+
  geom_point(aes(color=cut)) -> p1

#geom_rangeframeがx,yの線をつかさどる
p1 + theme_tufte() + geom_rangeframe()+scale_colour_pander()

```

## theme_hc()
横線のみ。激押し。
```{r}
p1 + theme_hc() + scale_colour_hc()
```


## theme_minimal
グリッド線がついているもの。  
```{r}
p1 + theme_minimal() + scale_colour_economist()
#このスケールはグラデーションに近いため少々見づらい

```


## scale_fill_hue()
グラデーション？  
h,c,lの3要素を変更できる。
```{r}
p1+scale_colour_hue()
```

## scale_fill_brewer
グレーはscale_fill_grey

## scale_color_manual

```{r}
p1 + scale_color_manual(values=c("black","red","orange","yellow","purple"))
#c(変数名="値")も可！
```

## RColorbrewer

# グラフ体裁

## ラベル
```{r}
p2 <- ggplot(diamonds,aes(x=price))+
  geom_histogram(bins = 200)

```


## 軸目盛の個数
```{r}
memori <- seq(0,20000,1000)

p2 + scale_x_continuous(breaks = memori)

```

## 軸目盛の値
軸目盛の数と一致していれば、値を自分で設定することもできる
```{r}
memori <- seq(0,20000,10000)
label <- c("A","B","C")

p2+
  scale_x_continuous(breaks = memori,
                     labels = label)

```



## 軸のズーム
```{r}

#この範囲以外の値はすべて除外する(形が変わる)
p2+
  scale_x_continuous(limits = c(500,2000))

#単純にズームインする
p2+
  coord_cartesian(xlim=c(500,2000))
```



# geom_functions

## geom_histogram

## geom_bar/geom_col



#